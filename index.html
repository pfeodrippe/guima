<body style="background-color: #EEEEEE">
  <script src="vendors/codemirror/lib/codemirror.js"></script>
  <link rel="stylesheet" href="vendors/codemirror/lib/codemirror.css">
  <script src="vendors/codemirror/mode/ruby/ruby.js"></script>

  <script>
    var myCodeMirror = CodeMirror(document.body, {
        value: "1 \\in {1, 5}",
        mode:  "ruby",
        extraKeys: {
            'Shift-Enter': (cm) => {
                fetch("http://localhost:8080/",
                      {method: 'POST',
                       mode: 'cors',
                       body: JSON.stringify({"input": cm.getValue()}),
                       headers: new Headers({'accept': 'application/json',
                                             'content-type': 'application/json'})})
                    .then(response => response.json())
                    .then(data => console.log(data.data))
            },
            'Ctrl-Enter': (cm) => {
                console.log('This is called... sometimes')
            },
        },
    });
  </script>
</body>
